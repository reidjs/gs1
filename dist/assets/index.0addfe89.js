var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,a=(t,r,l)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,n=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&a(e,r,t[r]);if(l)for(var r of l(t))u.call(t,r)&&a(e,r,t[r]);return e},c=(e,l)=>t(e,r(l));"undefined"!=typeof require&&require;import{r as s,c as d,o as i,m,a as p,p as b,b as h,d as f,e as g,F as v,f as P,t as y,w as N,g as k,h as w,i as L,j as C,k as H,l as V,n as I,G as E,q as _,s as j,u as B,v as O,x as U,y as $,z as F,Q as D,A as S,B as A,C as T,D as x,E as G,H as W}from"./vendor.8c5168b6.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const q={};q.render=function(e,t){const r=s("router-view");return i(),d(r)};const Q={props:["breadcrumbs"],computed:c(n({},m(["user","notification"])),{breadcrumbLinks(){return this.breadcrumbs.slice(0,-1)},lastBreadcrumb(){return this.breadcrumbs[this.breadcrumbs.length-1]},showUser(){return"account"!==this.$route.name&&!!this.user},showLoginLink(){return"login"!==this.$route.name&&!this.user}}),methods:n({},p(["clearNotification"]))};b("data-v-798f8e0c");const K={class:"flex justify-between"},R={class:"flex"},z=C(" >  "),J=C("Log in"),M=["src"],Z={class:"w-full h-8"},X={key:0,class:"px-6 flex items-center align-center w-full h-full bg-green-100"};h(),Q.render=function(e,t,r,l,o,u){const a=s("router-link");return i(),f("header",null,[g("nav",K,[g("ol",R,[(i(!0),f(v,null,P(u.breadcrumbLinks,(e=>(i(),f("li",{key:e.urlName},[L(a,{to:{name:e.urlName}},{default:N((()=>[C(y(e.label),1)])),_:2},1032,["to"]),z])))),128)),g("li",null,y(u.lastBreadcrumb.label),1)]),u.showLoginLink?(i(),d(a,{key:0,to:{name:"login"}},{default:N((()=>[J])),_:1})):k("",!0),u.showUser?(i(),d(a,{key:1,to:{name:"account"}},{default:N((()=>[g("img",{class:"w-10 h-10 rounded-full",src:e.user.photoURL},null,8,M)])),_:1})):k("",!0)]),g("div",Z,[e.notification?(i(),f("div",X,[g("button",{class:"mr-4",onClick:t[0]||(t[0]=(...t)=>e.clearNotification&&e.clearNotification(...t))},"×"),g("span",null,y(e.notification.message),1)])):k("",!0)]),w(e.$slots,"default",{},void 0,!0)])},Q.__scopeId="data-v-798f8e0c";const Y={components:{Header:Q}},ee={class:"flex items-center flex-col"},te=g("h1",null,"Welcome to legitweed.com",-1),re=g("h2",null,"Legitweed, weed you can trust.",-1),le=C("View All Products"),oe=g("h3",null,"About",-1),ue=g("p",null,"Providing the most accurate marijuana supply chain data in the United States. A subsidiary company of GS1.",-1);Y.render=function(e,t,r,l,o,u){const a=s("Header"),n=s("router-link");return i(),f("div",null,[L(a,{breadcrumbs:[{label:"Home"}]}),g("div",ee,[te,re,L(n,{to:{name:"productList"}},{default:N((()=>[le])),_:1})]),oe,ue])};const ae={props:["label","value"]},ne=g("br",null,null,-1);ae.render=function(e,t,r,l,o,u){return i(),f("div",null,[g("label",null,y(r.label),1),ne,g("span",null,y(r.value),1)])};const ce={props:["label","modelValue"],emits:["update:modelValue"]},se=g("br",null,null,-1),de=["value"];ce.render=function(e,t,r,l,o,u){return i(),f("div",null,[g("label",null,y(r.label),1),se,g("input",{value:r.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,40,de)])};const ie={props:["label","urlTo","value"]},me=g("br",null,null,-1);ie.render=function(e,t,r,l,o,u){const a=s("router-link");return i(),f("div",null,[g("label",null,y(r.label),1),me,L(a,{to:r.urlTo},{default:N((()=>[C(y(r.value),1)])),_:1},8,["to"])])};const pe={components:{Header:Q,LabeledValue:ae,LinkedValue:ie},data:()=>({route:"",product:{}}),computed:{breadcrumbs(){return[{urlName:"home",label:"Home"},{urlName:"productList",label:"Product List"},{label:`Product ${this.product.productName}`}]},id(){return this.$route.params.id}},methods:{updateProduct(e){this.product=e}},mounted(){const e=window.location.href;this.route=e;const t=H(),r=V(t,"products/"+this.id);I(r,(e=>{const t=e.val();this.updateProduct(t)}))}},be=g("h1",null,"Product Details",-1),he=g("br",null,null,-1),fe=C("Edit product"),ge=g("br",null,null,-1),ve=C("Print label"),Pe=g("br",null,null,-1),ye=g("a",null,"Copy link",-1),Ne=g("br",null,null,-1);pe.render=function(e,t,r,l,o,u){const a=s("Header"),n=s("LabeledValue"),c=s("LinkedValue"),m=s("router-link");return i(),f("div",null,[L(a,{breadcrumbs:u.breadcrumbs},null,8,["breadcrumbs"]),be,L(n,{label:"Name",value:o.product.productName},null,8,["value"]),L(n,{label:"ID",value:u.id},null,8,["value"]),L(n,{label:"THC %",value:o.product.thcPercentage},null,8,["value"]),o.product.createdBy?(i(),d(c,{key:0,label:"Created by",urlTo:{name:"user",params:{id:o.product.createdBy}},value:o.product.createdBy},null,8,["urlTo","value"])):k("",!0),he,L(m,{to:{name:"productEdit"}},{default:N((()=>[fe])),_:1}),ge,L(m,{to:{name:"productLabel"}},{default:N((()=>[ve])),_:1}),Pe,ye,Ne,g("span",null,y(o.route),1)])};const ke={};ke.render=function(e,t,r,l,o,u){return i(),f("div",null,"TODO: user detail page")};const we=[{urlName:"home",label:"Home"},{label:"Login"}],Le={components:{Header:Q},data:()=>({breadcrumbs:we}),methods:{signInWithEmail(){},signInWithGoogle(){const e=new E,t=_();j(t,e).then((e=>{const t=E.credentialFromResult(e).accessToken,r=e.user;console.log("token, user",t,r),this.$store.commit("setUser",r),this.$router.back()})).catch((e=>{e.code,e.message,e.email,E.credentialFromError(e),console.log("errord",e)}))}}},Ce=g("div",null,[g("label",null,"Email"),g("br"),g("input")],-1),He=g("div",null,[g("label",null,"Password"),g("br"),g("input",{type:"password"})],-1),Ve=g("label",null,"Or you can sign in with Google",-1),Ie=g("br",null,null,-1);Le.render=function(e,t,r,l,o,u){const a=s("Header");return i(),f("div",null,[L(a,{breadcrumbs:o.breadcrumbs},null,8,["breadcrumbs"]),g("form",null,[Ce,He,g("button",{onClick:t[0]||(t[0]=B(((...e)=>u.signInWithEmail&&u.signInWithEmail(...e)),["prevent"]))},"Submit")]),Ve,Ie,g("button",{onClick:t[1]||(t[1]=(...e)=>u.signInWithGoogle&&u.signInWithGoogle(...e))},"Sign in with Google")])};const Ee={components:{Header:Q},computed:c(n({},m(["user"])),{breadcrumbs(){var e;return[{urlName:"home",label:"Home"},{label:null==(e=this.user)?void 0:e.displayName}]}}),methods:c(n({},p(["clearUser","setNotification"])),{logout(){this.clearUser(),this.$router.push({name:"home"}),this.setNotification({message:"Successfully logged out."})}})},_e={key:0},je=g("h1",null,"Account",-1),Be=g("h2",null,"Details",-1),Oe=g("hr",null,null,-1),Ue={key:1},$e=C(" Please "),Fe=C("log in"),De=C(" to view your account information. ");Ee.render=function(e,t,r,l,o,u){const a=s("Header"),n=s("router-link");return i(),f("div",null,[L(a,{breadcrumbs:u.breadcrumbs},null,8,["breadcrumbs"]),e.user?(i(),f("div",_e,[je,Be,C(" "+y(e.user)+" ",1),Oe,g("button",{onClick:t[0]||(t[0]=(...e)=>u.logout&&u.logout(...e))},"Log out")])):(i(),f("div",Ue,[g("p",null,[$e,L(n,{to:{name:"login"}},{default:N((()=>[Fe])),_:1}),De])]))])};const Se=[{urlName:"home",label:"Home"},{urlName:"productList",label:"Product List"},{label:"Create new product"}],Ae={components:{Header:Q},data:()=>({breadcrumbs:Se,productName:"",thcPercentage:""}),computed:n({},m(["user"])),methods:c(n({},p(["setNotification"])),{createNewProduct(){console.log("this.productDetails",this.productName,this.thcPercentage),console.log("this.user",this.user.uid);const e=H(),t=V(e,"products"),r=O(t);U(r,{createdBy:this.user.uid,productName:this.productName,thcPercentage:this.thcPercentage}),this.setNotification({message:`Created ${this.productName}`})},uploadFile(){this.productName="foo",this.thcPercentage="44%"}})},Te={key:0},xe=g("h2",null,"Upload data from file",-1),Ge=g("hr",null,null,-1),We=g("h2",null,"Product details",-1),qe=g("label",null,"Name",-1),Qe=g("br",null,null,-1),Ke=g("br",null,null,-1),Re=g("label",null,"THC Percentage",-1),ze=g("br",null,null,-1),Je={key:1},Me=C(" Please "),Ze=C("log in"),Xe=C(" to create a new product ");Ae.render=function(e,t,r,l,o,u){const a=s("Header"),n=s("router-link");return i(),f("div",null,[L(a,{breadcrumbs:o.breadcrumbs},null,8,["breadcrumbs"]),e.user?(i(),f("form",Te,[xe,g("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>u.uploadFile&&u.uploadFile(...e))},null,32),Ge,We,g("div",null,[qe,Qe,$(g("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.productName=e)},null,512),[[F,o.productName]]),Ke,Re,ze,$(g("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.thcPercentage=e)},null,512),[[F,o.thcPercentage]])]),g("button",{onClick:t[3]||(t[3]=B(((...e)=>u.createNewProduct&&u.createNewProduct(...e)),["prevent"]))},"Create new product")])):(i(),f("div",Je,[g("p",null,[Me,L(n,{to:{name:"login"}},{default:N((()=>[Ze])),_:1}),Xe])]))])};const Ye={components:{QrcodeVue:D,Header:Q},data:()=>({route:""}),computed:{breadcrumbs(){return[{urlName:"home",label:"Home"},{urlName:"productList",label:"Product List"},{urlName:"product",params:{id:this.$route.params.id},label:`Product ${this.$route.params.id}`},{label:"Print Label"}]}},mounted(){const e=window.location.href;this.route=e}};b("data-v-68add4a2");const et=g("div",{class:"no-print"},[g("h2",null,"Select a format"),g("ul",null,[g("li",null,[g("a",null,"BOL")]),g("li",null,[g("a",null,"California")]),g("li",null,[g("a",null,"Colorado")]),g("li",null,[g("a",null,"Washington")])])],-1);h(),Ye.render=function(e,t,r,l,o,u){const a=s("Header"),n=s("QrcodeVue");return i(),f("div",null,[L(a,{breadcrumbs:u.breadcrumbs},null,8,["breadcrumbs"]),et,g("div",null,[L(n,{value:o.route},null,8,["value"])]),g("div",null,[g("span",null,y(o.route),1)])])},Ye.__scopeId="data-v-68add4a2";const tt={components:{Header:Q,LabeledValue:ae},data:()=>({breadcrumbs:[{urlName:"home",label:"Home"},{label:"Product List"}],searchInput:"",products:[],allProducts:[]}),computed:c(n({},m(["user"])),{userCanEditProduct(){return!!this.user}}),methods:{formatProductsFromFirebase(e){const t=[];return Object.keys(e).forEach((r=>{const l=e[r];t.push({id:r,productName:l.productName,createdBy:l.createdBy,thcPercentage:l.thcPercentage})})),t},formatFilteredProducts(e){const t=[];return Object.keys(e).forEach((r=>{const l=e[r];t.push({id:l.id,productName:l.productName,createdBy:l.createdBy,thcPercentage:l.thcPercentage})})),t},filterProducts(){const e=this.allProducts.filter((e=>Object.values(e).join(" ").includes(this.searchInput)));this.products=this.formatFilteredProducts(e)},openDeleteConfirmation(e){confirm(`Delete product ${e.productName}?`)&&this.deleteProduct(e.id)},deleteProduct(e){const t=H();U(V(t,"products/"+e),null)}},mounted(){const e=H(),t=V(e,"products/");I(t,(e=>{const t=e.val();this.allProducts=this.formatProductsFromFirebase(t),this.products=this.formatProductsFromFirebase(t)}))}},rt=g("br",null,null,-1),lt=g("small",null,"Although it's hidden from view, the product ID can also be used to filter search results",-1),ot=g("br",null,null,-1),ut=C(" Create New Product "),at={class:"flex justify-between"},nt=C(" View product page "),ct=g("br",null,null,-1),st=C(" Edit details "),dt=["onClick"];tt.render=function(e,t,r,l,o,u){const a=s("Header"),n=s("router-link"),c=s("LabeledValue");return i(),f("div",null,[L(a,{breadcrumbs:o.breadcrumbs},null,8,["breadcrumbs"]),$(g("input",{placeholder:"Search","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchInput=e),onInput:t[1]||(t[1]=(...e)=>u.filterProducts&&u.filterProducts(...e))},null,544),[[F,o.searchInput]]),rt,lt,ot,L(n,{to:{name:"productCreate"}},{default:N((()=>[ut])),_:1}),g("ul",null,[(i(!0),f(v,null,P(o.products,(e=>(i(),f("li",{key:e.id,class:"border-2 border-black rounded-lg m-4"},[L(c,{label:"Name",value:e.productName},null,8,["value"]),L(c,{label:"THC %",value:e.thcPercentage},null,8,["value"]),g("div",at,[g("div",null,[L(n,{to:{name:"product",params:{id:e.id}}},{default:N((()=>[nt])),_:2},1032,["to"]),ct,u.userCanEditProduct?(i(),d(n,{key:0,to:{name:"productEdit",params:{id:e.id}}},{default:N((()=>[st])),_:2},1032,["to"])):k("",!0)]),u.userCanEditProduct?(i(),f("a",{key:0,class:"self-end text-red-500",onClick:t=>u.openDeleteConfirmation(e)},"Delete product",8,dt)):k("",!0)])])))),128))])])};const it={components:{Header:Q,LabeledInput:ce,LinkedValue:ie},data:()=>({route:"",product:{},productName:"",thcPercentage:""}),computed:c(n({},m(["user"])),{breadcrumbs(){return[{urlName:"home",label:"Home"},{urlName:"productList",label:"Product List"},{urlName:"product",label:"Product Detail"},{label:`Edit Product ${this.product.productName}`}]},id(){return this.$route.params.id}}),methods:c(n({},p(["setNotification"])),{updateProduct(e){this.product=e,this.productName=e.productName,this.thcPercentage=e.thcPercentage},save(){const e=H(),t=V(e,"products/"+this.id),r={};r.productName=this.productName,r.thcPercentage=this.thcPercentage,S(t,r),this.setNotification({message:`Updated ${this.productName}`})}}),mounted(){const e=window.location.href;this.route=e;const t=H(),r=V(t,"products/"+this.id);I(r,(e=>{const t=e.val();this.updateProduct(t)}))}},mt={key:0},pt={key:0},bt=C("Created by "),ht=g("br",null,null,-1),ft={key:1},gt=C(" Please "),vt=C("log in");it.render=function(e,t,r,l,o,u){const a=s("Header"),n=s("LabeledInput"),c=s("router-link");return i(),f("div",null,[L(a,{breadcrumbs:u.breadcrumbs},null,8,["breadcrumbs"]),e.user?(i(),f("div",mt,[g("h1",null,"Edit product "+y(o.product.productName),1),L(n,{label:"Product name",modelValue:o.productName,"onUpdate:modelValue":t[0]||(t[0]=e=>o.productName=e)},null,8,["modelValue"]),L(n,{label:"THC %",modelValue:o.thcPercentage,"onUpdate:modelValue":t[1]||(t[1]=e=>o.thcPercentage=e)},null,8,["modelValue"]),o.product.createdBy?(i(),f("small",pt,[bt,L(c,{to:{name:"user",params:{id:o.product.createdBy}}},{default:N((()=>[C(y(o.product.createdBy),1)])),_:1},8,["to"])])):k("",!0),ht,g("button",{onClick:t[2]||(t[2]=(...e)=>u.save&&u.save(...e))},"Save")])):(i(),f("div",ft,[g("p",null,[gt,L(c,{to:{name:"login"}},{default:N((()=>[vt])),_:1}),C(" to edit the product "+y(o.product.productName),1)])]))])};const Pt=[{path:"/gs1/",name:"home",component:Y},{path:"/gs1/product/:id/",name:"product",component:pe},{path:"/gs1/product/:id/print",name:"productLabel",component:Ye},{path:"/gs1/product/:id/edit",name:"productEdit",component:it},{path:"/gs1/product/",name:"productList",component:tt},{path:"/gs1/login/",name:"login",component:Le},{path:"/gs1/account/",name:"account",component:Ee},{path:"/gs1/user/:id",name:"user",component:ke},{path:"/gs1/product/new/",name:"productCreate",component:Ae}],yt=A({history:T(),routes:Pt});const Nt={apiKey:"AIzaSyAA2wjF6fAu5Tq5K4vAmciy1umFV7hcPK8",authDomain:"gs1hemp.firebaseapp.com",databaseURL:"https://gs1hemp-default-rtdb.firebaseio.com",projectId:"gs1hemp",storageBucket:"gs1hemp.appspot.com",messagingSenderId:"272881799605",appId:"1:272881799605:web:e43c361c787bfd8c1989fc",measurementId:"G-SZBTPQQ3VJ"},kt=x({state:()=>({products:{},notification:null,user:null}),getters:{user:e=>e.user,notification:e=>e.notification},mutations:{setUser(e,t){e.user=t},clearUser(e){e.user=null},setNotification(e,t){e.notification=t},clearNotification(e){e.notification=null}}});try{G(Nt)}catch(wt){console.error(wt)}W(q).use(yt).use(kt).mount("#app");
