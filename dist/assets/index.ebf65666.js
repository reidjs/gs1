import{r as e,c as t,o,g as r,s as n,a as s,b as a,d as u,e as d,F as c,f as i,h as l,t as p,i as E,w as m,j as h,k as f,l as I,m as _,n as A}from"./vendor.5ad336df.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v={};v.render=function(r,n){const s=e("router-view");return o(),t(s)};const S={data:()=>({products:[]}),computed:{},methods:{newProduct(){const e=Math.floor(9e3*Math.random()+1e3),t=Math.floor(10*Math.random()),o=r();n(s(o,"products/"+e),{value:t})},updateProducts(e){const t=[];Object.keys(e).forEach((o=>{t.push({id:o,value:e[o].value})})),this.products=t}},mounted(){const e=r(),t=s(e,"products/");a(t,(e=>{const t=e.val();this.updateProducts(t)}))}},y=d("h1",null,"Products",-1),R=l(" View "),P=d("a",null,"DeleteÂ ",-1),T=d("a",null,"Edit",-1);S.render=function(t,r,n,s,a,h){const f=e("router-link");return o(),u("div",null,[y,d("button",{onClick:r[0]||(r[0]=(...e)=>h.newProduct&&h.newProduct(...e))},"Create new product"),d("ul",null,[(o(!0),u(c,null,i(a.products,(e=>(o(),u("li",{key:e.id},[l(p(e.value)+" ",1),E(f,{to:{name:"product",params:{id:e.id}}},{default:m((()=>[R])),_:2},1032,["to"]),P,T])))),128))])])};const g={data:()=>({route:"",value:null}),methods:{updateProduct(e){this.value=e.value}},mounted(){const e=new QRCode(this.$refs.qrcode,{width:100,height:100}),t=window.location;e.makeCode(t),this.route=t;const o=r(),n=s(o,"products/"+this.$route.params.id);a(n,(e=>{const t=e.val();this.updateProduct(t)}))}},w=d("h1",null,"Product Detail",-1),B={ref:"qrcode",id:"qrcode"},D=d("a",null,"Copy",-1);g.render=function(e,t,r,n,s,a){return o(),u("div",null,[w,l(" "+p(s.value)+" ",1),d("div",B,null,512),l(" "+p(s.route)+" ",1),D])};const k=[{path:"/",name:"home",component:S},{path:"/product/:id",name:"product",component:g}],F=h({history:f(),routes:k}),M={apiKey:{}.VITE_FIREBASE_API_KEY,authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN,databaseURL:{}.VITE_FIREBASE_DATABASE_URL,projectId:{}.VITE_FIREBASE_PRODUCT_ID,storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:{}.VITE_FIREBASE_APP_ID,measurementId:{}.VITE_FIREBASE_MEASUREMENT_ID},V=I({state:()=>({products:{}})});try{_(M)}catch(b){console.error(b)}A(v).use(F).use(V).mount("#app");
